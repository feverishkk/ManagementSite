@page "/fetchdata"
@using System.Web
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.WebUtilities
@using System.Diagnostics

<MudButton @onclick="mine" Variant="Variant.Filled" Color="Color.Primary">
    Open Simple Dialog
</MudButton>

@code
{
    public string _Token { get; set; } = string.Empty;
    public string _Email { get; set; } = string.Empty;

    private void mine()
    {
        var uri = _navigationManager.ToAbsoluteUri(_navigationManager.Uri);

        // Token, Email쿼리를 파싱한다.
        var queryStrings = QueryHelpers.ParseQuery(uri.Query);
        if (queryStrings.TryGetValue("Token", out var UserToken))
        {
            Debug.WriteLine(_Token = UserToken);
        }
        if (queryStrings.TryGetValue("Email", out var UserEmail))
        {
            Debug.WriteLine(_Email = UserEmail);
        }
    }
}